**–ü—Ä–æ–µ–∫—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –º–∞–≥–∞–∑–∏–Ω–∞ ( Go 1.25.1 )**

# üß± myApp ‚Äî –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –Ω–∞ Go –∑–∞ NGINX

**myApp** ‚Äî —ç—Ç–æ —É—á–µ–±–Ω—ã–π, –Ω–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–≥–æ—Ç–æ–≤—ã–π boilerplate –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ Go 1.25.1.
- –†–∞–±–æ—Ç–∞–µ—Ç –∑–∞ NGINX (—Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏), –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Ñ–æ—Ä–º—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π, JSON-–æ—Ç–≤–µ—Ç—ã –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é (API, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –ë–î).
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Äî —Å–ª–æ–∏—Å—Ç–∞—è, –±–ª–∏–∑–∫–∞—è –∫ Clean/Hexagonal, —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ OWASP Top 10.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
–ö–æ–Ω–µ—á–Ω–æ üëç –í–æ—Ç –≤ —Ç–æ–º –∂–µ —Ñ–æ—Ä–º–∞—Ç–µ, –∫–∞–∫ —É —Ç–µ–±—è –≤ –ø—Ä–∏–º–µ—Ä–µ:

myApp/
‚îú‚îÄ cmd/
‚îÇ  ‚îî‚îÄ app/
‚îÇ     ‚îî‚îÄ main.go    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ª–æ–≥–∏ –∏ CSRF, 
‚îÇ                    —Å–æ–∑–¥–∞—ë—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç HTTP-—Å–µ—Ä–≤–µ—Ä, –æ–∂–∏–¥–∞–µ—Ç —Å–∏–≥–Ω–∞–ª –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç graceful shutdown
‚îÇ 
‚îú‚îÄ internal/
‚îÇ  ‚îú‚îÄ app/
‚îÇ  ‚îÇ  ‚îî‚îÄ app.go                     # –°–±–æ—Ä–∫–∞: chi.Router, middleware, —Å—Ç–∞—Ç–∏–∫–∞, –º–∞—Ä—à—Ä—É—Ç—ã, 404
‚îÇ  ‚îÇ 
‚îÇ  ‚îú‚îÄ core/
‚îÇ  ‚îÇ  ‚îú‚îÄ config.go                  # ENV-–∫–æ–Ω—Ñ–∏–≥, –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è prod
‚îÇ  ‚îÇ  ‚îú‚îÄ errors.go                  # AppError, —Ñ–∞–±—Ä–∏–∫–∏ (BadRequest, Internal)
‚îÇ  ‚îÇ  ‚îú‚îÄ response.go                # JSON(), Fail() (RFC7807)
‚îÇ  ‚îÇ  ‚îî‚îÄ logfile.go                 # JSON-–ª–æ–≥–∏ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π (7 –¥–Ω–µ–π)
‚îÇ  ‚îú‚îÄ http/
‚îÇ  ‚îÇ  ‚îú‚îÄ handler/
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ home.go                 # / (HTML)
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ about.go                # /about (HTML)
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ form.go                 # /form (GET/POST, –≤–∞–ª–∏–¥–∞—Ü–∏—è, PRG)
‚îÇ  ‚îÇ  ‚îÇ  ‚îî‚îÄ misc.go                 # /healthz (JSON), NotFound (404 HTML)
‚îÇ  ‚îÇ  ‚îî‚îÄ middleware/
‚îÇ  ‚îÇ     ‚îú‚îÄ proxy.go                # TrustedProxy –¥–ª—è NGINX (X-Forwarded-For, Proto)
‚îÇ  ‚îÇ     ‚îî‚îÄ security.go             # CSP, XFO, nosniff, Referrer, Permissions, COOP, HSTS
‚îÇ  ‚îî‚îÄ view/
‚îÇ     ‚îî‚îÄ view.go                    # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä —à–∞–±–ª–æ–Ω–æ–≤
‚îú‚îÄ web/
‚îÇ  ‚îú‚îÄ assets/                      # CSS/JS/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/—à—Ä–∏—Ñ—Ç—ã
‚îÇ  ‚îî‚îÄ templates/
‚îÇ     ‚îú‚îÄ layouts/base.gohtml       # –û—Å–Ω–æ–≤–Ω–æ–π layout
‚îÇ     ‚îú‚îÄ partials/nav.gohtml       # –ù–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ     ‚îú‚îÄ partials/footer.gohtml    # –§—É—Ç–µ—Ä
‚îÇ     ‚îî‚îÄ pages/{home,about,form,404}.gohtml # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îú‚îÄ logs/                           # DD-MM-YYYY.log, errors-DD-MM-YYYY.log
‚îú‚îÄ nginx.conf                      # NGINX: TLS, rate limiting, –∫—ç—à, —Å–∂–∞—Ç–∏–µ
‚îú‚îÄ go.mod
‚îî‚îÄ go.sum


## üåê –ú–∞—Ä—à—Ä—É—Ç—ã

| –ü—É—Ç—å           | –û–ø–∏—Å–∞–Ω–∏–µ                                    | –¢–∏–ø   |
|----------------|---------------------------------------------|-------|
| `/`            | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞                            | HTML  |
| `/about`       | –û –ø—Ä–æ–µ–∫—Ç–µ                                   | HTML  |
| `/form` (GET)  | –§–æ—Ä–º–∞ —Å CSRF –∏ nonce                        | HTML  |
| `/form` (POST) | –í–∞–ª–∏–¥–∞—Ü–∏—è, —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è, PRG (/form?ok=1)    | HTML  |
| `/healthz`     | {"status":"ok"} (–¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ NGINX)        | JSON  |
| `/assets/*`    | –°—Ç–∞—Ç–∏–∫–∞ (–∫—ç—à –∏ gzip –≤ NGINX)                | Static|
| `/*`           | 404 Not Found (—à–∞–±–ª–æ–Ω)                      | HTML  |



## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

| –ú–µ—Ö–∞–Ω–∏–∑–º                   | –ì–¥–µ –≤–∫–ª—é—á—ë–Ω                     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                      |
|----------------------------|---------------------------------|------------------------------------------------|
| **CSRF**                   | app.New() ‚Üí gorilla/csrf        | –¢–æ–∫–µ–Ω –≤ —à–∞–±–ª–æ–Ω–∞—Ö; Secure=true –≤ prod           |
| **CSP**                    | middleware.SecureHeaders         | Self + cdn.jsdelivr.net; nonce –¥–ª—è —Å—Ç–∏–ª–µ–π      |
| **X-Frame-Options**        | middleware.SecureHeaders         | DENY (–æ—Ç clickjacking)                         |
| **X-Content-Type-Options** | middleware.SecureHeaders         | nosniff (–æ—Ç MIME-sniffing)                     |
| **Referrer-Policy**        | middleware.SecureHeaders         | no-referrer-when-downgrade                     |
| **Permissions-Policy**     | middleware.SecureHeaders         | –û—Ç–∫–ª—é—á–∞–µ—Ç camera, microphone, geolocation      |
| **COOP**                   | middleware.SecureHeaders         | same-origin (–∏–∑–æ–ª—è—Ü–∏—è)                         |
| **HSTS**                   | middleware.HSTS (prod)          | HTTPS-only —á–µ—Ä–µ–∑ NGINX                         |
| **Timeout**                | chi/middleware.Timeout(15s)     | –ü—Ä–µ—Ä—ã–≤–∞–µ—Ç –∑–∞–≤–∏—Å—à–∏–µ –∑–∞–ø—Ä–æ—Å—ã                     |
| **Rate Limiting**          | NGINX (limit_req)               | 100 req/s, burst=200 (–æ—Ç DoS)                  |
| **Parameter Pollution**    | middleware.SecureHeaders         | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥—É–±–ª–∏ query-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤               |
| **–°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è**            | handler/form.go ‚Üí bluemonday    | –£–¥–∞–ª—è–µ—Ç –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π HTML                       |
| **TLS**                    | NGINX (Let‚Äôs Encrypt)           | TLS 1.2+, –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —à–∏—Ñ—Ä—ã                     |
| **Trusted Proxy**          | middleware/proxy.go             | X-Forwarded-For, X-Real-IP, X-Forwarded-Proto  |



## üß© –†–∞–±–æ—Ç–∞ —Ñ–æ—Ä–º—ã `/form`
- **GET**: –†–µ–Ω–¥–µ—Ä —Å CSRF-—Ç–æ–∫–µ–Ω–æ–º –∏ nonce (—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ —á–µ—Ä–µ–∑ `view.Render`).
- **POST**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ (1MB), —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è (bluemonday), –≤–∞–ª–∏–¥–∞—Ü–∏—è (validator/v10).
- **–û—à–∏–±–∫–∏**: –†–µ—Ä–µ–Ω–¥–µ—Ä —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π (`{{.Data.Errors}}`).
- **–£—Å–ø–µ—Ö**: PRG-—Ä–µ–¥–∏—Ä–µ–∫—Ç (303, `/form?ok=1`).
- **–ë–µ–∑ –ë–î/email**: –î–∞–Ω–Ω—ã–µ –≤ –ø–∞–º—è—Ç–∏.



## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (ENV)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è             | –û–ø–∏—Å–∞–Ω–∏–µ                     | –î–µ—Ñ–æ–ª—Ç / –ü—Ä–∏–º–µ—Ä |
|------------------------|------------------------------|-----------------|
| `APP_NAME`             | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è          | `myApp`         |
| `HTTP_ADDR`            | –ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞                | `:8080`         |
| `APP_ENV`              | –û–∫—Ä—É–∂–µ–Ω–∏–µ                    | `dev` / `prod`  |
| `CSRF_KEY`             | –°–µ–∫—Ä–µ—Ç –¥–ª—è CSRF (‚â•32 –±–∞–π—Ç–∞)  | –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è    |
| `SECURE`               | –í–∫–ª—é—á–∏—Ç—å HTTPS/HSTS (NGINX)  | `false` / `true`|
| `SHUTDOWN_TIMEOUT`     | –¢–∞–π–º–∞—É—Ç shutdown             | `10s`           |
| `READ_HEADER_TIMEOUT`  | –¢–∞–π–º–∞—É—Ç —á—Ç–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤    | `5s`            |
| `READ_TIMEOUT`         | –¢–∞–π–º–∞—É—Ç —á—Ç–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞       | `10s`           |
| `WRITE_TIMEOUT`        | –¢–∞–π–º–∞—É—Ç –æ—Ç–≤–µ—Ç–∞               | `30s`           |
| `IDLE_TIMEOUT`         | –¢–∞–π–º–∞—É—Ç –ø—Ä–æ—Å—Ç–æ—è              | `60s`           |



## ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

| ‚Ññ  | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç                  | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                              |
|----|----------------------------|--------|------------------------------------------|
| 1  | CSRF                       | ‚úÖ     | –¢–æ–∫–µ–Ω—ã –≤ —Ñ–æ—Ä–º–∞—Ö                          |
| 2  | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏       | ‚úÖ     | CSP —Å nonce, HSTS, XFO, nosniff          |
| 3  | TLS (NGINX)                | ‚úÖ     | HTTPS —á–µ—Ä–µ–∑ NGINX (Let‚Äôs Encrypt)        |
| 4  | Graceful Shutdown          | ‚úÖ     | –¢–∞–π–º–∞—É—Ç –∏–∑ ENV                           |
| 5  | –í–∞–ª–∏–¥–∞—Ü–∏—è/–°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è      | ‚úÖ     | validator/v10 + bluemonday               |
| 6  | –û—à–∏–±–∫–∏ (RFC7807)           | ‚úÖ     | core.Fail —Å RequestID                    |
| 7  | JSON-–ª–æ–≥–∏                  | ‚úÖ     | –†–æ—Ç–∞—Ü–∏—è, errors-DD-MM-YYYY.log           |
| 8  | 404 / Health               | ‚úÖ     | HTML 404, JSON healthcheck               |
| 9  | Rate Limiting (NGINX)      | ‚úÖ     | 100 req/s –≤ NGINX                        |
| 10 | Trusted Proxy              | ‚úÖ     | X-Forwarded-For/Proto –≤ middleware       |


## üöÄ –ó–∞–ø—É—Å–∫
- **NGINX**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `nginx.conf` (TLS, rate limiting, –∫—ç—à, gzip).
- **Go**: `go run ./cmd/app`.

| –ö–æ–º–∞–Ω–¥–∞       | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|---------------|-----------------------------------|
| `make run`    | –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç                  |
| `make build`  | –°–æ–±—Ä–∞—Ç—å bin/app.exe               |
| `make start`  | –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–∏–Ω–∞—Ä–Ω–∏–∫                |
| `make clean`  | –£–¥–∞–ª–∏—Ç—å bin                       |
| `make test`   | –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã                   |
| `make lint`   | go fmt, go vet                    |

### –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å (cmd / PowerShell)
–ü–µ—Ä–µ–π–¥–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–ø—É—Å–∫–∞–π:

| –ö–æ–º–∞–Ω–¥–∞ (cmd / PowerShell)          | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                          | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ                                                |
| ----------------------------------- | ----------------------------------- | --------------------------------------------------------- |
| `.\make.bat run` <br>–∏–ª–∏ `make run` | **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤** | –ó–∞–ø—É—Å–∫–∞–µ—Ç `go run ./cmd/app` –Ω–∞ –ø–æ—Ä—Ç—É `:8080`             |
| `.\make.bat build`                  | **–°–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞**                | –°–æ–∑–¥–∞—ë—Ç `bin\app.exe`                                     |
| `.\make.bat start`                  | **–ó–∞–ø—É—Å–∫ —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞**     | –ó–∞–ø—É—Å–∫–∞–µ—Ç `bin\app.exe`, –µ—Å–ª–∏ –æ–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç               |
| `.\make.bat clean`                  | **–û—á–∏—Å—Ç–∫–∞ —Å–±–æ—Ä–∫–∏**                  | –£–¥–∞–ª—è–µ—Ç –ø–∞–ø–∫—É `bin`                                       |
| `.\make.bat test`                   | **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ Go**                | –í—ã–ø–æ–ª–Ω—è–µ—Ç `go test ./... -v`                              |
| `.\make.bat lint`                   | **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ª–∏–Ω—Ç–µ—Ä–æ–º**          | –ó–∞–ø—É—Å–∫–∞–µ—Ç `golangci-lint`; –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –µ–≥–æ |
| `.\make.bat tidy`                   | **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**         | –í—ã–ø–æ–ª–Ω—è–µ—Ç `go mod tidy`                                   |

---

TEST command: golangci-lint run

| –ö–æ–º–∞–Ω–¥–∞                                         | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                   |
| ----------------------------------------------- | -------------------------------------------- |
| `golangci-lint run`                             | –ó–∞–ø—É—Å–∫–∞–µ—Ç **–≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –ª–∏–Ω—Ç–µ—Ä—ã**           |
| `golangci-lint run --fast`                      | –¢–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä—ã–µ –∏ –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏            |
| `golangci-lint run ./internal/core`             | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø–∞–ø–∫—É                   |
| `golangci-lint run --out-format=github-actions` | –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –≤—ã–≤–æ–¥ –¥–ª—è CI/CD                  |
| `golangci-lint help linters`                    | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ª–∏–Ω—Ç–µ—Ä—ã (100+ —à—Ç—É–∫) |


## üõ†Ô∏è –†–∞–±–æ—Ç–∞ —Å NGINX
- **NGINX –∫–∞–∫ —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏**:
  - TLS (Let‚Äôs Encrypt), rate limiting (100 req/s, burst=200), gzip, –∫—ç—à —Å—Ç–∞—Ç–∏–∫–∏ (1 –≥–æ–¥).
  - –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ: `X-Forwarded-For`, `X-Real-IP`, `X-Forwarded-Proto` –∫ Go (middleware/proxy.go).
  - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ `/healthz` –ø–æ IP (OWASP A04).
- **–ü–æ—á–µ–º—É**: NGINX —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ Go (TLS, –∫—ç—à, DoS), —É—Å–∏–ª–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (HSTS, CORS).

---
```
## üì¶ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
- **API**: –î–æ–±–∞–≤–∏—Ç—å `/api/*` (JSON, core.JSON/Fail).
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT/cookie (`internal/http/session`).
- **–ë–î**: SQLite/PostgreSQL (`internal/store`) –¥–ª—è —Ñ–æ—Ä–º, –º–∏–≥—Ä–∞—Ü–∏–∏
- **–ú–µ—Ç—Ä–∏–∫–∏**: Prometheus (`/metrics`) + Grafana.
- **–ê–¥–º–∏–Ω–∫–∞**: `/admin/*` —Å CRUD, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ NGINX.
- **CI/CD**: GitHub Actions (lint, test, build).
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: httptest, govulncheck, OWASP ZAP.
- 
üß© **–ü—Ä–æ–µ–∫—Ç –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π, –±–µ–∑–æ–ø–∞—Å–Ω—ã–π, –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–≥–æ—Ç–æ–≤—ã–π –∑–∞ NGINX. –ì–æ—Ç–æ–≤ –∫ API, –ë–î, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.**

 **–¢–µ—Å—Ç—ã**

* –ù–∞–ø–∏—Å–∞—Ç—å `httptest` –¥–ª—è `FormIndex` –∏ `FormSubmit`:

    * –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ 200/303/400
    * –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ CSRF-—Ç–æ–∫–µ–Ω –µ—Å—Ç—å –≤ HTML
    * –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ —Ñ–æ—Ä–º—ã
* –î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç –¥–ª—è `cacheStatic()` (–∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫—ç—à–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç)
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `testing.T.Run` –¥–ª—è table-driven —Ç–µ—Å—Ç–æ–≤

---

–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π **–ø–ª–∞–Ω-–≥—Ä–∞—Ñ–∏–∫** –ø–æ —Å–ø—Ä–∏–Ω—Ç–∞–º —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏, –ø–∞–∫–µ—Ç–∞–º–∏ –∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏ ‚Äú–≥–æ—Ç–æ–≤–æ‚Äù.

# –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ (—Ç–∞–±–ª–∏—Ü–∞)

| –°–ø—Ä–∏–Ω—Ç | –¶–µ–ª—å                | –ö–ª—é—á–µ–≤—ã–µ –∑–∞–¥–∞—á–∏                                                                                                     | –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã/–∫—Ä–∏—Ç–µ—Ä–∏–∏ ‚Äú–≥–æ—Ç–æ–≤–æ‚Äù                                                      | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | –ü–∞–∫–µ—Ç—ã/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã                                      |
| ------ | ------------------- | ------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------- | ----------- | ------------------------------------------------------- |
| 1      | –ö–∞—Ä–∫–∞—Å + SSR-–±–∞–∑–∞   | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞; chi + middleware; layout + `/`, `/catalog` (–º–æ–∫–∏); —Å—Ç–∞—Ç–∏–∫–∞; healthcheck; Makefile                | `go run` —Å—Ç–∞—Ä—Ç—É–µ—Ç; `/` –∏ `/catalog` –æ—Ç–¥–∞—é—Ç HTML; `/healthz`=200; –ª–∏–Ω—Ç–µ—Ä –ø—Ä–æ—Ö–æ–¥–∏—Ç | ‚Äî           | `chi`, `chi/middleware`, `golangci-lint`                |
| 2      | –ë–î –∏ –º–∏–≥—Ä–∞—Ü–∏–∏       | Docker Postgres; `migrations/0001_init.sql`; pgx; sqlc; –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã `repo`                                           | `make migrate_up`; –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç `repo.Product.List()` –∑–µ–ª—ë–Ω—ã–π             | 1           | `pgx/v5`, `golang-migrate`, `sqlc`, `testcontainers-go` |
| 3      | –ö–∞—Ç–∞–ª–æ–≥ + —Ç–æ–≤–∞—Ä     | Handlers `/catalog`, `/catalog/{sku}`; —à–∞–±–ª–æ–Ω—ã; –ø–æ–∏—Å–∫/—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞; seed –¥–∞–Ω–Ω—ã—Ö                                       | –ö–∞—Ç–∞–ª–æ–≥ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∏–∑ –ë–î; –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è; `httptest` –Ω–∞ –ª–∏—Å—Ç–∏–Ω–≥     | 2           | stdlib `net/http/httptest`                              |
| 4      | –ö–æ—Ä–∑–∏–Ω–∞ + Checkout  | –°–µ—Å—Å–∏–∏; `CartService`; `/cart`, `/checkout` (GET/POST); —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è Order                                            | –ü–æ–ª–Ω—ã–π –ø—É—Ç—å: –∫–∞—Ç–∞–ª–æ–≥ ‚Üí –∫–æ—Ä–∑–∏–Ω–∞ ‚Üí –∑–∞–∫–∞–∑ ‚Üí success; –∑–∞–ø–∏—Å—å –≤ –ë–î                    | 3           | `scs/v2` (sessions)                                     |
| 5      | –ê–¥–º–∏–Ω–∫–∞             | `/admin/login`; AuthService (bcrypt/argon2id); CRUD —Ç–æ–≤–∞—Ä–æ–≤; CSRF                                                   | –ê–¥–º–∏–Ω –ª–æ–≥–∏–Ω–∏—Ç—Å—è; —Å–æ–∑–¥–∞—ë—Ç/—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Ç–æ–≤–∞—Ä; CSRF –≤–∫–ª—é—á—ë–Ω; rate-limit –ª–æ–≥–∏–Ω–∞      | 4           | `argon2id` –∏–ª–∏ `bcrypt`, `nosurf`, `httprate`           |
| 6      | JSON API + OpenAPI  | `/api/v1/products`, `/api/v1/product/{sku}`, `/api/v1/cart`, `/api/v1/order`; –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫; OpenAPI         | –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤ `api/openapi.yaml`; –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ                        | 3‚Äì5         | `kin-openapi` + `oapi-codegen` (–∏–ª–∏ swaggo)             |
| 7      | –ü—Ä–æ–¥–æ–≤–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å | CSP/HSTS; TLS –∑–∞ reverse-proxy; `/metrics`; structured logs; Dockerfile/compose; CI (lint/test/build/image); –±—ç–∫–∞–ø—ã | HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç; Grafana –≤–∏–¥–∏—Ç –º–µ—Ç—Ä–∏–∫–∏; –æ–±—Ä–∞–∑ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è; nightly backup         | 1‚Äì6         | `promhttp`, `slog`, Docker, Compose, GitHub Actions     |
| 8      | –ü–æ–ª–∏—Ä–æ–≤–∫–∞/UX/SEO    | –ß–∏—Å—Ç—ã–π UI; i18n ru/fi; favicon, sitemap, robots; –º–æ–±–∏–ª—å–Ω—ã–π UX                                                       | Lighthouse ok; –±–∞–∑–æ–≤–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è; SEO-—Ç–µ–≥–∏                                     | 1‚Äì7         | ‚Äî                                                       |

---