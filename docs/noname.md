
---

# üß± –∫–∞—Ä–∫–∞—Å SSR-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Go (chi + html/template)

## –û–±—â–∞—è –∏–¥–µ—è

–°–æ–±—Ä–∞–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø—É—Å–∫–∞–µ–º—ã–π —Å–∞–π—Ç –±–µ–∑ –ë–î:
`/`, `/healthz`, `/readyz`, `/metrics`, —Å—Ç–∞—Ç–∏–∫–∞ –∏ –±–∞–∑–æ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

---

## ü©∫ `/healthz` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ ¬´–∂–∏–≤ –ª–∏ –ø—Ä–æ—Ü–µ—Å—Å¬ª

**–ó–∞—á–µ–º:**
–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä **–≤–æ–æ–±—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**: –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—â–µ–Ω, HTTP —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç, –∫–æ–¥ –Ω–µ –∑–∞–≤–∏—Å.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
–ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `200 OK` –∏ JSON –≤—Ä–æ–¥–µ:

---

## ‚öôÔ∏è `/readyz` ‚Äî –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫

**–ó–∞—á–µ–º:**
–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´–∂–∏–≤–æ–µ¬ª, –∞ **–≥–æ—Ç–æ–≤–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ**.
–¢–æ –µ—Å—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–ë–î, –∫—ç—à, –≤–Ω–µ—à–Ω–∏–µ API) –¥–æ—Å—Ç—É–ø–Ω—ã.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å:**
–ø–æ–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ `{"ready": true}`.
–Ω–æ –ø–æ–∑–∂–µ –º—ã —Ç—É–¥–∞ –¥–æ–±–∞–≤–∏–º, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```go
if err := db.Ping(ctx); err != nil {
    return {"ready": false, "db": "down"}
}
```

---

## üìä `/metrics` ‚Äî –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ó–∞—á–µ–º:**
–¥–ª—è —Å–∏—Å—Ç–µ–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è (Prometheus, Grafana, Zabbix –∏ —Ç.–¥.).
–ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–ª–µ–¥–∏—Ç—å –∑–∞ –º–µ—Ç—Ä–∏–∫–∞–º–∏:

* –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤,
* –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞,
* –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏,
* goroutines, GC –∏ —Ç.–¥.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
–º—ã –ø–æ–¥–∫–ª—é—á–∏–ª–∏ –≥–æ—Ç–æ–≤—ã–π handler –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Prometheus:

```go
r.Handle("/metrics", promhttp.Handler())
```

–û–Ω –æ—Ç–¥–∞—ë—Ç –±–æ–ª—å—à–æ–π —Ç–µ–∫—Å—Ç –≤—Ä–æ–¥–µ:

```
go_gc_duration_seconds 0.0002
http_requests_total{method="GET",path="/"} 23
```

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:**
–≤—Å—è —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã.

**–ê–Ω–∞–ª–æ–≥–∏—è:**
—ç—Ç–æ –∫–∞–∫ —Ñ–∏—Ç–Ω–µ—Å-–±—Ä–∞—Å–ª–µ—Ç –Ω–∞ —Ç–≤–æ—ë–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏: –æ–Ω–æ –∂–∏–≤–æ, –≥–æ—Ç–æ–≤–æ, –∏ –º—ã –≤–∏–¥–∏–º, –∫–∞–∫ —á–∞—Å—Ç–æ ¬´–ø—É–ª—å—Å–∏—Ä—É–µ—Ç¬ª.

---

## üí° –ü–æ–¥–≤–µ–¥—ë–º –∏—Ç–æ–≥–∏

| Endpoint   | –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç                      | –ö—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç               | –ö–æ–≥–¥–∞ –≤–∞–∂–µ–Ω            |
| ---------- | ---------------------------------- | ---------------------------- | ---------------------- |
| `/healthz` | –∂–∏–≤ –ª–∏ –ø—Ä–æ—Ü–µ—Å—Å                     | –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, kubernetes       | –≤—Å–µ–≥–¥–∞                 |
| `/readyz`  | –≥–æ—Ç–æ–≤ –ª–∏ –∫ —Ä–∞–±–æ—Ç–µ (–ë–î, –∫—ç—à –∏ —Ç.–ø.) | –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∏, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—ã | –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ/–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ |
| `/metrics` | –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏      | Prometheus, Grafana          | –ø–æ—Å—Ç–æ—è–Ω–Ω–æ              |

---

---
